<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Quantum Minesweeper{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">

    <style>
      html { background: #0f1115; }  /* default dark */
      html.light { background: #fafafa; }
  </style>
  
  <!-- Preload theme before paint -->
  <script>
    (function () {
      try {
        const KEY = 'qms_theme';
        let t = localStorage.getItem(KEY);
        if (!t && window.matchMedia) {
          t = window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
        }
        if (t === 'light') {
          document.documentElement.classList.add('light');
          document.body?.classList.add('light');
        }
      } catch (e) {
        /* fail silently */
      }
    })();
  </script>

  <!-- Styles -->
  <link rel="stylesheet" href="/static/style.css">

  <!-- Theme toggle -->
  <script src="/static/scripts/theme_toggle.js" defer></script>


  <!-- MathJax for rendering LaTeX -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async 
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

  {% block extra_head %}{% endblock %}
</head>

{% include "header.html" %}

<body>
  <div class="app-body">
    <main>
      {% block content %}{% endblock %}

    <!-- Help Sidebar -->
    <aside id="help-panel">
      <h2>Help</h2>
      <p>This is your help sidebar. Content will go here.</p>
    </aside>
  </main>  
  <script src="static/scripts/help.js"></script>

  </div>

  {% include "footer.html" %}
</body>
</html>
